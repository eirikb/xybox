<!DOCTYPE html><html><head><title>xybox - Game engine</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css"><link rel="stylesheet" href="dist/app.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.0/css/font-awesome.min.css"><!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body data-spy="scroll" data-target=".navbar" data-offet="1000"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41968117-1', 'github.com');
ga('send', 'pageview');
</script><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><ul class="nav"><li class="active"><a href="index.html">XYBox home</a></li><li><a href="#install">Install</a></li><li><a href="#defs">Defs and Items</a></li><li><a href="#animations">Animations</a></li><li><a href="#physics">Physics</a></li><li><a href="#cheatsheet">Cheat sheet</a></li></ul></div></div></div><div class="container"><div class="hero-unit"><h1>XYBox<small>1.0.2</small></h1><p>Game engine</p><p><a href="#install" class="btn btn-primary btn-large">Get started <i class="icon-chevron-down icon-white"></i></a></p><p><a href="tutorial.html" class="btn btn-primary btn-large">Tutorial <i class="icon-chevron-right icon-white"></i></a></p><p><a href="https://github.com/eirikb/xybox" class="btn btn-large">Source <i class="icon-github"></i></a></p><p><a href="#cheatsheet" class="btn btn-large">Cheat sheet <i class="icon-chevron-down"></i></a></p></div><section id="install"><div class="page-header"><h1>Install/setup</h1></div><div class="row"><div class="span12"><p>Either:<br>Include the <a href="http://eirikb.github.io/xybox/lib/xybox-all.min.js">&quot;<em>all</em>&quot;</a> bundle:</p>
<pre class="prettyprint">&lt;script src="http://eirikb.github.io/xybox/lib/xybox-all.min.js"&gt;</pre><p>Remove <em>min.</em> for development purposes (referenced libraries are still minified).</p>
<p>Or:<br>install with <a href="https://github.com/bower/bower">bower</a>:</p>
<pre>bower install xybox</pre><p>Then all you need to do is reference the script(s) in your markup.</p>
</div></div></section><section id="defs"><div class="page-header"><h1>Defs and Items</h1></div><div class="row"><div class="span12"><p>XYBox is built on definitions called <em>defs</em>.
It is a way to describe an item, such as a car, player, house, ball or brick wall.<br>The def define item <em>physics</em>, <em>graphics</em> and <em>behavior</em>.
Physics and graphics are defined in <em>JSON</em> files, while the behavior and logic is defined in <em>JS</em> files.</p>
<h3>Items and graphics</h3><p>As an example we will try to make a ball with a <em>defs</em> file.<br>First we need an image, like this one: 
<img src="img/chrome.png" alt="chrome logo"> 
<em><a href="img/chrome.png">(img/chrome.png)</a></em>.<br>Then we can define this in a <em>defs</em> file like this:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-item.json">ball-item.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "x": 10,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-item" class="ball"></canvas></div></div><p>Here <em>items</em> indicate the items we want to draw.
The <em>images</em> in <em>graphics</em> will be preloaded (only once pr src).</p>
<p>Run like this with JavaScript:</p><pre class="prettyprint">game.init('ball-item', 'defs/ball-item.json');</pre><p>First argument, <em>ball1</em>, is <em>ID</em> of canvas, and second argument is definition (<em>defs</em>) file.</p>
<h3>Items and defs</h3><p>Now what if we would like to draw the same ball two times?<br>This is where we will use <em>defs</em>. Basically a <em>def</em> will merge into items,
so you only have can split the item definition from actual items.<br>This can be setup like this:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-items.json">ball-items.json</a><pre class="prettyprint">{
  "defs": {
    "ball": {
      "graphics": [{
        "image": "img/chrome.png"
      }]
    }
  },
  "items": [{
    "def": "ball",
    "x": 10,
    "y": 10
  }, {
    "def": "ball",
    "x": 80,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-items" class="ball"></canvas></div></div><h3>Includes</h3><p>It could be preferable to move <em>defs</em> out into a separate file or files.
Then in the file with <em>items</em> one add a property for <em>includes</em>,
which will make sure that the <em>defs</em> file is also merged.</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-includes-defs.json">ball-includes-defs.json</a><pre class="prettyprint">{
  "defs": {
    "ball": {
      "graphics": [{
        "image": "img/chrome.png"
      }]
    }
  }
}
</pre><a href="defs/ball-includes.json">ball-includes.json</a><pre class="prettyprint">{
  "includes": ["ball-includes-defs"],
  "items": [{
    "def": "ball",
    "x": 10,
    "y": 10
  }, {
    "def": "ball",
    "x": 80,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-includes" class="ball"></canvas></div></div><h4>Code/JavaScript</h4><p>To add behavior and logic to the game JavaScript is used.<br>These files are linked through <em>code</em> part, like this:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-code.json">ball-code.json</a><pre class="prettyprint">{
  "items": [{
    "code": "ball-code.js onball4",
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "x": 50,
    "y": 10
  }]
}
</pre><a href="ball-code.js">ball-code.js</a><pre class="prettyprint">onball4 = function(ball, game) {
  var way = 1;
  var g = ball.graphics[0];

  game.on('tick', function() {
    g.x += way * 4;

    if (g.x &gt; 200) way = -1;
    else if (g.x &lt; 50) way = 1;
  });
};
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-code" class="ball"></canvas></div></div><p>The property consists of two parts separated with space.
The first part is the actual JavaScript file, relative from <em>defs</em> file location.
The second part is an optional function which will be called when an item is created.
First argument would be the actual item, the second is game object (if needed).  </p>
</div></div></section><section id="animations"><div class="page-header"><h1>Animations</h1></div><div class="row"><div class="span12"><p>Animations in XYBox are defined inside the <em>JSON</em> files.<br>All animations must be in form of sprites,
for example with the Chrome logo &quot;ball&quot; from earlier:<br><img src="img/chrome-anim.png" alt="Chrome logo"><br><em><a href="img/chrome-anim.png">(img/chrome-anim.png)</a></em>.  </p>
<p>This might seem a bit wasteful, since the image could simply be rotated by the canvas.<br>Although having one single solution for animations makes it much more consistent
and easy to work with.<br>The overall size and performance will not be 
that much affected. In the case of the ball it will be, but in a whole games
most animations are more complex.</p>
<p>The animations are defined in <em>defs</em> like this:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-anim.json">ball-anim.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "x": 10,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-anim" class="ball"></canvas></div></div><p>Note that &quot;<em>default</em>&quot; will be run automatically. Simply call it something 
different to prevent it from executing.</p>
<h3>Animation definitions</h3><p>Look at <a href="http://www.createjs.com/Docs/EaselJS/classes/SpriteSheet.html">EaselJS SpriteSheet documentation</a> to see different methods to do animations.  </p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-anims.json">ball-anims.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": {
          "frames": [7, 6, 5, 4, 3, 2, 1, 0],
          "next": "back",
          "frequency": 2
        },
        "back": [0, 7, "default", 2]
      }
    }],
    "x": 10,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-anims" class="ball"></canvas></div></div></div></div></section><section id="physics"><div class="page-header"><h1>Physics</h1></div><div class="row"><div class="span12"><p>XYBox let you combine physics and graphics in the same <em>JSON</em> file.<br>Lets add some physics to our ball:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-physics.json">ball-physics.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "body": {
      "circles": [{
        "size": 4
      }],
      "x": 4,
      "y": 4
    }
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-physics" class="ball"></canvas></div></div><p>That does not seem very fantastic, but that is a full blown physical object, trust me,
it can do marvelous things.</p>
<p>Lets add this brick wall: <img src="img/brick-wall.png" alt="Brick wall"> and some behavior with JS:</p>
<div class="row"><div class="span6"><h5>Input</h5><a href="defs/ball-physics-code.json">ball-physics-code.json</a><pre class="prettyprint">{
  "defs": {
    "wall": {
      "graphics": [{
        "image": "img/brick-wall.png",
        "type": "repeat"
      }],
      "body": {
        "isStatic": true,
        "boxes": [{
          "width": 10,
          "height": 2
        }],
        "x": 2
      }
    }
  },
  "items": [{
    "code": "ball-physics-code.js onball8",
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "body": {
      "circles": [{
        "size": 4,
        "options": {
          "restitution": 1
        }
      }],
      "x": 4,
      "y": 4
    }
  }, {
    "def": "wall",
    "body": {
      "y": 12
    }
  }, {
    "def": "wall",
    "body": {
      "y": 0
    }
  }]
}
</pre><a href="defs/ball-physics-code.js">ball-physics-code.js</a><pre class="prettyprint">onball8 = function(ball, game) {
  var b = ball.body;
  b.ApplyImpulse(new b2Vec2(0, 100), b.GetWorldCenter());
};
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-physics-code" height="300" class="ball"></canvas></div></div></div></div></section><section id="cheatsheet"><div class="page-header"><h1>Cheat Sheet</h1></div><div class="row"><div class="span12"><p>This is a set of examples of how images can be used and rendered.
There are four main parts: Normal static image, animated image,
physical body with static image and physical body with animated image.  </p>
<div class="row"><div class="span6"><h5>Static image</h5><a href="defs/ball-cs-static.json">ball-cs-static.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "x": 10,
    "y": 10
  }, {
    "graphics": [{
      "image": "img/chrome.png",
      "width": 16,
      "height": 16
    }],
    "x": 100,
    "y": 10
  }, {
    "graphics": [{
      "image": "img/chrome.png",
      "width": 100,
      "height": 100
    }],
    "x": 140,
    "y": 10
  }, {
    "graphics": [{
      "image": "img/chrome.png",
      "type": "repeat",
      "width": 128,
      "height": 128
    }],
    "x": 260,
    "y": 10
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-cs-static" width="450" class="ball"></canvas><dl><dt>Positioning</dt><dd><p><strong>X</strong> and <strong>Y</strong> coordinates start at top left corner.  </p>
</dd><dt>Types</dt><dd><p>By setting <code>&quot;type&quot;: &quot;repeat&quot;</code> in <code>&quot;graphics&quot;</code> it is possible
to make the image repeat itself. This is a nice feature for backgrounds.</p>
</dd><dt>Size</dt><dd><p>The image size can be set by <code>&quot;width&quot;</code> and <code>&quot;height&quot;</code> properties, 
if not set the size will be default <code>&lt;img&gt;</code> size (original size).</p>
</dd></dl></div></div><div class="row"><div class="span6"><h5>Animated image</h5><a href="defs/ball-cs-anim.json">ball-cs-anim.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "x": 10,
    "y": 0
  }, {
    "graphics": [{
      "image": "img/chrome-anim.png",
      "width": 16,
      "height": 16,
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "x": 100,
    "y": 0
  }, {
    "graphics": [{
      "image": "img/chrome-anim.png",
      "width": 100,
      "height": 100,
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "x": 140,
    "y": 0
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-cs-anim" width="400" class="ball"></canvas><dl><dt>Positioning</dt><dd><p><strong>X</strong> and <strong>Y</strong> coordinates start at top left corner.  </p>
</dd><dt>Types</dt><dd><p>The <code>&quot;type&quot;: &quot;repeat&quot;</code> feature is not supported on animations.</p>
</dd><dt>Size</dt><dd><p>The image size can be set by <code>&quot;width&quot;</code> and <code>&quot;height&quot;</code> properties, 
if not set the size will be default <code>&lt;img&gt;</code> size (original size).</p>
</dd></dl></div></div><div class="row"><div class="span6"><h5>Physical body with static image</h5><a href="defs/ball-cs-body-static.json">ball-cs-body-static.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "body": {
      "circles": [{
        "size": 4
      }],
      "x": 0,
      "y": 0
    }
  }, {
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "body": {
      "circles": [{
        "size": 1
      }],
      "x": 6,
      "y": 0
    }
  }, {
    "graphics": [{
      "image": "img/chrome.png"
    }],
    "body": {
      "circles": [{
        "size": 6
      }],
      "x": 9,
      "y": 0
    }
  }, {
    "graphics": [{
      "image": "img/chrome.png",
      "type": "repeat"
    }],
    "body": {
      "circles": [{
        "size": 8
      }],
      "x": 16,
      "y": 0
    }
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-cs-body-static" width="400" class="ball"></canvas><dl><dt>Positioning</dt><dd><p><strong>X</strong> and <strong>Y</strong> coordinates start at bottom left corner.<br>Physical body follows standard XY-coordinate system layout.  </p>
</dd><dt>Types</dt><dd><p>By setting <code>&quot;type&quot;: &quot;repeat&quot;</code> in <code>&quot;graphics&quot;</code> it is possible
to make the image repeat itself.</p>
</dd><dt>Size</dt><dd><p>The image size is determined by size of physical item multipled by a scale.<br>The default <code>game.scale</code> is <strong>16</strong>, 
this means an item with height <code>5</code> will be <code>80</code>px tall.</p>
</dd></dl></div></div><div class="row"><div class="span6"><h5>Physical body with animated image</h5><a href="defs/ball-cs-body-anim.json">ball-cs-body-anim.json</a><pre class="prettyprint">{
  "items": [{
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "body": {
      "circles": [{
        "size": 4
      }],
      "x": 0,
      "y": 0
    }
  }, {
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "body": {
      "circles": [{
        "size": 1
      }],
      "x": 6,
      "y": 0
    }
  }, {
    "graphics": [{
      "image": "img/chrome-anim.png",
      "frames": {
        "width": 64,
        "height": 64
      },
      "animations": {
        "default": [0, 7]
      }
    }],
    "body": {
      "circles": [{
        "size": 6
      }],
      "x": 9,
      "y": 0
    }
  }]
}
</pre></div><div class="span6"><h5>Output</h5><canvas id="ball-cs-body-anim" width="400" class="ball"></canvas><dl><dt>Positioning</dt><dd><p><strong>X</strong> and <strong>Y</strong> coordinates start at bottom left corner.<br>Physical body follows standard XY-coordinate system layout.  </p>
</dd><dt>Types</dt><dd><p>The <code>&quot;type&quot;: &quot;repeat&quot;</code> feature is not supported on animations.</p>
</dd><dt>Size</dt><dd><p>The image size is determined by size of physical item multipled by a scale.<br>The default <code>game.scale</code> is <strong>16</strong>, 
this means an item with height <code>5</code> will be <code>80px</code> tall.</p>
</dd></dl></div></div></div></div></section></div><footer><div class="container"><p>Built by <a href="https://github.com/eirikb">eirikb</a>.<br>Source on <a href="https://github.com/eirikb/xybox">github</a>.</p>
<p>The XYBox library is built on top of a set of existing libraries:<br><a href="&#39;http://www.createjs.com/#!/EaselJS&#39;">EaselJS</a> 
·
<a href="&#39;http://www.createjs.com/#!/PreloadJS&#39;">PreloadJS</a>
·
<a href="&#39;http://underscorejs.org&#39;">Underscore.js</a>
·
<a href="&#39;https://github.com/marquete/kibo&#39;">Kibo</a>
·
<a href="&#39;https://raw.github.com/HBehrens/box2d.js&#39;">box2d.js</a>
·
<a href="&#39;https://eirikb.github.io/trolley&#39;">Trolley</a></p>
<p>Don&#39;t know about license yet because of the libraries.</p>
</div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script><script src="lib/xybox-all.js"></script><script src="dist/app.min.js"></script></body></html>